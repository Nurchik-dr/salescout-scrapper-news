import OpenAI from 'openai';

class AIAnalyzer {
    constructor() {
        this.openai = new OpenAI({
            apiKey: process.env.OPENAI_API_KEY
        });
    }

    /**
     * ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ²Ğ¸Ğ´ĞµĞ¾ Ñ‡ĞµÑ€ĞµĞ· GPT-4o mini Ğ¸ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ´ Ğ±Ğ¸Ğ·Ğ½ĞµÑ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
     */
    async analyzeVideo(videoData) {
        const prompt = this.buildPrompt(videoData);

        try {
            const completion = await this.openai.chat.completions.create({
                model: "gpt-4o-mini",
                messages: [
                    {
                        role: "system",
                        content: this.getSystemPrompt()
                    },
                    {
                        role: "user",
                        content: prompt
                    }
                ],
                temperature: 0.85,
                max_tokens: 4500,
                response_format: { type: "json_object" }
            });

            const response = completion.choices[0].message.content;
            const cleanedResponse = this.cleanJsonResponse(response);
            const parsed = JSON.parse(cleanedResponse);

            return parsed;

        } catch (error) {
            console.error('OpenAI API Error:', error);

            throw new Error(`AI analysis failed: ${error.message}`);
        }
    }

    /**
     * Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ´Ğ»Ñ AI
     */
    getSystemPrompt() {
        return `Ğ¢Ñ‹ â€” Ğ²ĞµĞ´ÑƒÑ‰Ğ¸Ğ¹ ÑĞºÑĞ¿ĞµÑ€Ñ‚ Ğ¿Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ²Ğ¸Ñ€ÑƒÑĞ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ° Ğ´Ğ»Ñ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ° Ğ² Instagram Reels Ğ¸ TikTok.

Ğ¢Ğ’ĞĞ¯ Ğ“Ğ›ĞĞ’ĞĞĞ¯ Ğ—ĞĞ”ĞĞ§Ğ:
Ğ¢Ñ‹ Ğ±ĞµÑ€Ñ‘ÑˆÑŒ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾Ğµ Ğ²Ğ¸Ñ€ÑƒÑĞ½Ğ¾Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ñ‘ÑˆÑŒ Ğ”Ğ•Ğ¢ĞĞ›Ğ¬ĞĞ«Ğ™ ĞŸĞ›ĞĞ ĞºĞ°Ğº Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞµĞ³Ğ¾ ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ´ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.

Ğ¢Ğ’ĞĞ˜ ĞšĞĞœĞŸĞ•Ğ¢Ğ•ĞĞ¦Ğ˜Ğ˜:
- Ğ“Ğ»ÑƒĞ±Ğ¾ĞºĞ¾Ğµ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ Ğ¿ÑĞ¸Ñ…Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ Ğ²Ğ¸Ñ€ÑƒÑĞ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°
- Ğ—Ğ½Ğ°Ğ½Ğ¸Ğµ ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ¸ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ½Ğ¸Ñˆ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ° (Ñ„Ğ¸Ñ‚Ğ½ĞµÑ, Ğ±ÑŒÑÑ‚Ğ¸, ĞµĞ´Ğ°, ÑƒÑĞ»ÑƒĞ³Ğ¸, Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ğ´Ñ€.)
- Ğ£Ğ¼ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ ÑĞ²ÑĞ·ÑŒ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ»ÑĞ±Ñ‹Ğ¼ Ğ²Ğ¸Ñ€ÑƒÑĞ½Ñ‹Ğ¼ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¾Ğ¼ Ğ¸ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ¼/ÑƒÑĞ»ÑƒĞ³Ğ¾Ğ¹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ´Ğ°ÑÑ‰Ğ¸Ñ… ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ², ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ñ‡Ğ½Ğ¾ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€ÑƒÑÑ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ
- ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¸ Ñ‚Ğ°Ğ¹Ğ¼Ğ¸Ğ½Ğ³Ğ°

ĞšĞ›Ğ®Ğ§Ğ•Ğ’ĞĞ™ ĞŸĞ Ğ˜ĞĞ¦Ğ˜ĞŸ:
Ğ›ÑĞ±Ğ¾Ğµ Ğ²Ğ¸Ñ€ÑƒÑĞ½Ğ¾Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ¾Ğ´ Ğ»ÑĞ±Ğ¾Ğ¹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ. Ğ¢Ğ²Ğ¾Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° â€” Ğ½Ğ°Ğ¹Ñ‚Ğ¸ ÑÑ‚Ñƒ ÑĞ²ÑĞ·ÑŒ Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¿Ğ»Ğ°Ğ½, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹:
1. Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ğ²Ğ¸Ñ€ÑƒÑĞ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ» Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ°
2. ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ñ‡Ğ½Ğ¾ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
3. ĞŸÑ€Ğ¸Ğ½Ğ¾ÑĞ¸Ñ‚ Ñ€ĞµĞ°Ğ»ÑŒĞ½ÑƒÑ Ğ¿Ğ¾Ğ»ÑŒĞ·Ñƒ Ğ·Ñ€Ğ¸Ñ‚ĞµĞ»Ñ
4. ĞœĞ¾Ñ‚Ğ¸Ğ²Ğ¸Ñ€ÑƒĞµÑ‚ Ğ½Ğ° Ñ†ĞµĞ»ĞµĞ²Ğ¾Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ (Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ°, Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ, Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ°)
5. Ğ£Ñ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¸ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸ĞºÑƒ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¸Ğ´ĞµĞ¾

Ğ¤ĞĞ ĞœĞĞ¢ ĞĞ¢Ğ’Ğ•Ğ¢Ğ:
- ĞÑ‚Ğ²ĞµÑ‡Ğ°Ğ¹ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ñ‹Ğ¼ JSON
- ĞĞ¸ĞºĞ°ĞºĞ¾Ğ³Ğ¾ markdown, code blocks Ğ¸Ğ»Ğ¸ Ğ»Ğ¸ÑˆĞ½ĞµĞ³Ğ¾ Ñ‚ĞµĞºÑÑ‚Ğ°
- Ğ’Ğ¡Ğ• Ñ‚ĞµĞºÑÑ‚Ñ‹ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼ ÑĞ·Ñ‹ĞºĞµ (ĞºÑ€Ğ¾Ğ¼Ğµ Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ñ… Ñ…ĞµÑˆÑ‚ĞµĞ³Ğ¾Ğ²)`;
    }

    /**
     * Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ°
     */
    formatVisualStructure(videoData) {
        if (!videoData?.videoData?.data?.timeline) {
            return 'Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹';
        }

        const data = videoData.videoData.data;
        let structure = `ğŸ“¹ Ğ’Ğ˜Ğ—Ğ£ĞĞ›Ğ¬ĞĞĞ¯ Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ ĞĞ Ğ˜Ğ“Ğ˜ĞĞĞ›Ğ¬ĞĞĞ“Ğ Ğ’Ğ˜Ğ”Ğ•Ğ:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- ĞĞ±Ñ‰Ğ°Ñ Ğ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ: ${data.duration || 'Ğ½ĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ¾'}Ñ
- Ğ¢Ğ¸Ğ¿ Ğ°ÑƒĞ´Ğ¸Ğ¾: ${data.audio?.type || 'Ğ½ĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ¾'} (${data.audio?.description || ''})

ĞŸĞĞšĞĞ”Ğ ĞĞ’ĞĞ¯ Ğ ĞĞ—Ğ‘Ğ˜Ğ’ĞšĞ:
`;

        data.timeline.forEach((frame, index) => {
            structure += `
  ${index + 1}. ${frame.timeRange}
     â””â”€ Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»: ${frame.visual}
     â””â”€ Ğ”Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ ÑĞµĞ³Ğ¼ĞµĞ½Ñ‚Ğ°: ${frame.duration}`;
        });

        structure += `

ğŸ’¡ Ğ’ĞĞ–ĞĞ: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ ÑÑ‚Ñƒ Ğ¿Ğ¾ĞºĞ°Ğ´Ñ€Ğ¾Ğ²ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ ĞºĞ°Ğº Ğ¾ÑĞ½Ğ¾Ğ²Ñƒ Ğ´Ğ»Ñ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ğ¸.
   Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸ĞºÑƒ ÑĞ¼ĞµĞ½Ñ‹ ĞºĞ°Ğ´Ñ€Ğ¾Ğ², Ğ½Ğ¾ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€ÑƒĞ¹ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ¿Ğ¾Ğ´ Ğ±Ğ¸Ğ·Ğ½ĞµÑ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.
`;

        return structure;
    }

    /**
     * ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½ÑƒÑ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸ĞºÑƒ Ğ²Ğ¸Ğ´ĞµĞ¾
     */
    analyzeVisualDynamics(videoData) {
        if (!videoData?.videoData?.data?.timeline) {
            return null;
        }

        const timeline = videoData.videoData.data.timeline;
        const dynamics = {
            totalSegments: timeline.length,
            averageSegmentDuration: 0,
            dynamicPattern: '',
            visualElements: []
        };

        // Ğ¡Ğ¾Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹
        timeline.forEach(frame => {
            if (frame.visual && !dynamics.visualElements.includes(frame.visual)) {
                dynamics.visualElements.push(frame.visual);
            }
        });

        // ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµĞ¼ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸ĞºĞ¸
        const durations = timeline.map(f => parseFloat(f.duration) || 0);
        const avgDuration = durations.reduce((a, b) => a + b, 0) / durations.length;
        dynamics.averageSegmentDuration = avgDuration.toFixed(1);

        if (avgDuration < 2) {
            dynamics.dynamicPattern = 'Ğ‘Ñ‹ÑÑ‚Ñ€Ğ°Ñ ÑĞ¼ĞµĞ½Ğ° ĞºĞ°Ğ´Ñ€Ğ¾Ğ² (Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡Ğ½Ğ¾Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾)';
        } else if (avgDuration < 4) {
            dynamics.dynamicPattern = 'Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹ Ñ‚ĞµĞ¼Ğ¿ ÑĞ¼ĞµĞ½Ñ‹ ĞºĞ°Ğ´Ñ€Ğ¾Ğ²';
        } else {
            dynamics.dynamicPattern = 'ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ°Ñ ÑĞ¼ĞµĞ½Ğ° ĞºĞ°Ğ´Ñ€Ğ¾Ğ² (ÑĞ¿Ğ¾ĞºĞ¾Ğ¹Ğ½Ğ¾Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾)';
        }

        return dynamics;
    }

    /**
     * Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ñ ÑƒÑ‡Ñ‘Ñ‚Ğ¾Ğ¼ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ°
     */
    buildPrompt(data) {
        const engagementRate = this.calculateEngagement(data);
        const viralityLevel = this.getViralityLevel(data.viralScore);
        const visualStructure = this.formatVisualStructure(data);
        const dynamics = this.analyzeVisualDynamics(data);

        let dynamicsSection = '';
        if (dynamics) {
            dynamicsSection = `
ğŸ“Š ĞĞĞĞ›Ğ˜Ğ— Ğ’Ğ˜Ğ—Ğ£ĞĞ›Ğ¬ĞĞĞ™ Ğ”Ğ˜ĞĞĞœĞ˜ĞšĞ˜:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑĞµĞ³Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ²: ${dynamics.totalSegments}
- Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ Ğ´Ğ»Ğ¸Ğ½Ğ° ÑĞµĞ³Ğ¼ĞµĞ½Ñ‚Ğ°: ${dynamics.averageSegmentDuration}Ñ
- Ğ¢ĞµĞ¼Ğ¿ Ğ²Ğ¸Ğ´ĞµĞ¾: ${dynamics.dynamicPattern}
- Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹: ${dynamics.visualElements.join(', ')}
`;
        }

        return `
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ—ĞĞ”ĞĞ§Ğ: ĞĞ”ĞĞŸĞ¢Ğ˜Ğ ĞĞ’ĞĞ¢Ğ¬ Ğ’Ğ˜Ğ Ğ£Ğ¡ĞĞĞ• Ğ’Ğ˜Ğ”Ğ•Ğ ĞŸĞĞ” Ğ‘Ğ˜Ğ—ĞĞ•Ğ¡ ĞšĞ›Ğ˜Ğ•ĞĞ¢Ğ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š Ğ˜Ğ¡Ğ¥ĞĞ”ĞĞĞ• Ğ’Ğ˜Ğ Ğ£Ğ¡ĞĞĞ• Ğ’Ğ˜Ğ”Ğ•Ğ:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- ĞĞ²Ñ‚Ğ¾Ñ€: ${data.author}
- ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ: "${data.description || 'Ğ‘ĞµĞ· Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ'}"
- ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ñ‹: ${data.views?.toLocaleString() || 0}
- Ğ›Ğ°Ğ¹ĞºĞ¸: ${data.likes?.toLocaleString() || 0}
- ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸: ${data.comments || 0}
- Engagement Rate: ${engagementRate}%
- Viral Score: ${data.viralScore || 0}/100 (${viralityLevel})
- ĞĞ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ğ½Ğ¾: ${data.publishedAt ? new Date(data.publishedAt).toLocaleDateString('ru-RU') : 'ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ¾'}
${data.isViral ? 'â€¢ â­ Ğ¡Ğ¢ĞĞ¢Ğ£Ğ¡: Ğ’Ğ˜Ğ Ğ£Ğ¡ĞĞĞ• Ğ’Ğ˜Ğ”Ğ•Ğ' : ''}

${visualStructure}

${dynamicsSection}

ğŸ¢ Ğ‘Ğ˜Ğ—ĞĞ•Ğ¡ ĞšĞ›Ğ˜Ğ•ĞĞ¢Ğ:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
${data.aboutCompany || 'Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ Ğ½Ğµ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ°'}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¢Ğ’ĞĞ¯ Ğ—ĞĞ”ĞĞ§Ğ:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. ĞŸĞ ĞĞĞĞĞ›Ğ˜Ğ—Ğ˜Ğ Ğ£Ğ™ Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾ ÑÑ‚Ğ°Ğ»Ğ¾ Ğ²Ğ¸Ñ€ÑƒÑĞ½Ñ‹Ğ¼ (Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚, Ñ‚Ñ€Ğ¸Ğ³Ğ³ĞµÑ€Ñ‹, ÑĞ¼Ğ¾Ñ†Ğ¸Ğ¸)
2. Ğ˜Ğ—Ğ£Ğ§Ğ˜ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¸ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸ĞºÑƒ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ° â€” ÑÑ‚Ğ¾ ĞºĞ»ÑÑ‡ Ğº ÑƒÑĞ¿ĞµÑ…Ñƒ
3. ĞĞĞ™Ğ”Ğ˜ Ğ¡Ğ’Ğ¯Ğ—Ğ¬ Ğ¼ĞµĞ¶Ğ´Ñƒ ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸ĞµĞ¹ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¸ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ¾Ğ¼ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
4. Ğ¡ĞĞ—Ğ”ĞĞ™ ĞĞ”ĞĞŸĞ¢Ğ˜Ğ ĞĞ’ĞĞĞĞ«Ğ™ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹:
   - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ ÑƒÑĞ¿ĞµÑˆĞ½ÑƒÑ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸ĞºÑƒ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ°
   - Ğ¡ĞĞ¥Ğ ĞĞĞ¯Ğ•Ğ¢ Ñ‚ĞµĞ¼Ğ¿ Ğ¸ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸ĞºÑƒ ÑĞ¼ĞµĞ½Ñ‹ ĞºĞ°Ğ´Ñ€Ğ¾Ğ² Ğ¸Ğ· Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ°
   - ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ñ‡Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ²Ğ¸Ğ³Ğ°ĞµÑ‚ ÑƒÑĞ»ÑƒĞ³Ğ¸/Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
   - Ğ ĞµÑˆĞ°ĞµÑ‚ Ğ±Ğ¾Ğ»Ğ¸ Ñ†ĞµĞ»ĞµĞ²Ğ¾Ğ¹ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
   - Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Ñ‡Ñ‘Ñ‚ĞºĞ¸Ğ¹ Ğ¿Ñ€Ğ¸Ğ·Ñ‹Ğ² Ğº Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¢Ğ Ğ•Ğ‘Ğ£Ğ•ĞœĞĞ¯ JSON Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{
  "originalVideoAnalysis": {
    "title": "ğŸ” ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¸Ğ´ĞµĞ¾",
    "visualStructure": "ĞšÑ€Ğ°Ñ‚ĞºĞ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ°",
    "whyItWorks": "ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ÑÑ‚Ğ¾ Ğ²Ğ¸Ğ´ĞµĞ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ (ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ„Ğ°ĞºÑ‚Ğ¾Ñ€Ñ‹ ÑƒÑĞ¿ĞµÑ…Ğ°)",
    "keyMoments": "ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ ÑƒĞ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ÑÑ‚ Ğ²Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ",
    "paceAndTiming": "ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ñ‚ĞµĞ¼Ğ¿Ğ° Ğ¸ Ñ‚Ğ°Ğ¹Ğ¼Ğ¸Ğ½Ğ³Ğ° Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ°"
  },

  "businessAdaptation": {
    "title": "ğŸ”„ ĞĞ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ´ Ğ²Ğ°Ñˆ Ğ±Ğ¸Ğ·Ğ½ĞµÑ",
    "connectionIdea": "ĞšĞ°Ğº ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ Ğ²Ğ¸Ñ€ÑƒÑĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¸Ğ´ĞµĞ¾ ÑĞ²ÑĞ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ñ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ¾Ğ¼ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° (2-3 Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ)",
    "targetAudienceMatch": "ĞšĞ°Ğº Ñ†ĞµĞ»ĞµĞ²Ğ°Ñ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ° ÑĞ¾Ğ²Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚ Ñ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸ĞµĞ¹ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ°",
    "uniqueAngle": "Ğ£Ğ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑƒĞ³Ğ¾Ğ» Ğ¿Ğ¾Ğ´Ğ°Ñ‡Ğ¸, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ²Ñ‹Ğ´ĞµĞ»Ğ¸Ñ‚ Ğ²Ğ¸Ğ´ĞµĞ¾ ÑÑ€ĞµĞ´Ğ¸ ĞºĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ¾Ğ²",
    "adaptationStrategy": "ĞšĞ°Ğº Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ Ğ¼Ñ‹ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€ÑƒĞµĞ¼ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¿Ğ¾Ğ´ Ğ±Ğ¸Ğ·Ğ½ĞµÑ"
  },

  "shootingPlan": {
    "title": "ğŸ¬ ĞŸĞ›ĞĞ Ğ¡ĞªĞĞœĞšĞ˜",
    "concept": "ĞĞ±Ñ‰Ğ°Ñ ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ² 1-2 Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ÑÑ…",
    "duration": "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ğ°Ñ Ğ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ² ÑĞµĞºÑƒĞ½Ğ´Ğ°Ñ… (Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ°)",
    "mood": "ĞĞ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾ (ÑĞ½ĞµÑ€Ğ³Ğ¸Ñ‡Ğ½Ğ¾Ğµ/ÑĞ¿Ğ¾ĞºĞ¾Ğ¹Ğ½Ğ¾Ğµ/Ğ¸Ğ½Ñ‚Ñ€Ğ¸Ğ³ÑƒÑÑ‰ĞµĞµ/ÑĞ¼Ğ¾Ñ€Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¸ Ñ‚.Ğ´.)",
    "paceNote": "Ğ’Ğ°Ğ¶Ğ½Ğ¾Ğµ Ğ·Ğ°Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ Ğ¾ Ñ‚ĞµĞ¼Ğ¿Ğµ ÑÑŠÑ‘Ğ¼ĞºĞ¸ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ°"
  },

  "hook": {
    "title": "ğŸ”¥ HOOK (0-3 ÑĞµĞºÑƒĞ½Ğ´Ñ‹)",
    "goal": "Ğ¦ĞµĞ»ÑŒ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ±Ğ»Ğ¾ĞºĞ° â€” Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑĞºÑ€Ğ¾Ğ»Ğ»Ğ¸Ğ½Ğ³",
    "timing": "Ğ¢Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ñ‚Ğ°Ğ¹Ğ¼Ğ¸Ğ½Ğ³ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ°",
    "frame": {
      "setting": "Ğ“Ğ´Ğµ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ ÑÑŠÑ‘Ğ¼ĞºĞ° (Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ñ, Ğ¾Ğ±ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°)",
      "subject": "ĞšÑ‚Ğ¾/Ñ‡Ñ‚Ğ¾ Ğ² ĞºĞ°Ğ´Ñ€Ğµ (Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº, Ğ¾Ğ±ÑŠĞµĞºÑ‚, Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ)",
      "composition": "ĞšÑ€ÑƒĞ¿Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ğ»Ğ°Ğ½Ğ°, Ñ€Ğ°ĞºÑƒÑ€Ñ, Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ ĞºĞ°Ğ¼ĞµÑ€Ñ‹",
      "lighting": "Ğ¢Ğ¸Ğ¿ Ğ¾ÑĞ²ĞµÑ‰ĞµĞ½Ğ¸Ñ Ğ¸ ĞµĞ³Ğ¾ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ",
      "props": "Ğ ĞµĞºĞ²Ğ¸Ğ·Ğ¸Ñ‚, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ½ÑƒĞ¶ĞµĞ½ Ğ´Ğ»Ñ ÑÑŠÑ‘Ğ¼ĞºĞ¸",
      "originalReference": "Ğ§Ñ‚Ğ¾ Ğ¸Ğ· Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¼Ñ‹ Ğ±ĞµÑ€Ñ‘Ğ¼ Ğ·Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ñƒ"
    },
    "voiceover": "Ğ¢Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚ Ğ´Ğ»Ñ Ğ¾Ğ·Ğ²ÑƒÑ‡ĞºĞ¸ (1-2 ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ñ… Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ñ†ĞµĞ¿Ğ»ÑÑÑ‚)",
    "onScreenText": "Ğ¢Ğ•ĞšĞ¡Ğ¢ ĞĞ Ğ­ĞšĞ ĞĞĞ• (ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¹, ÑÑ€ĞºĞ¸Ğ¹, Ğ¸Ğ½Ñ‚Ñ€Ğ¸Ğ³ÑƒÑÑ‰Ğ¸Ğ¹)",
    "soundEffect": "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ñ‹Ğ¹ Ğ·Ğ²ÑƒĞº/Ğ¼ÑƒĞ·Ñ‹ĞºĞ° Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚Ğ°",
    "businessIntegration": "ĞšĞ°Ğº Ğ² ÑÑ‚Ğ¾Ğ¼ ĞºĞ°Ğ´Ñ€Ğµ Ğ¿Ğ¾ÑĞ²Ğ»ÑĞµÑ‚ÑÑ ÑĞ²ÑĞ·ÑŒ Ñ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ¾Ğ¼"
  },

  "intrigue": {
    "title": "ğŸ¯ Ğ˜ĞĞ¢Ğ Ğ˜Ğ“Ğ (3-7 ÑĞµĞºÑƒĞ½Ğ´Ñ‹)",
    "goal": "Ğ¦ĞµĞ»ÑŒ â€” ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ, Ğ·Ğ°ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ",
    "timing": "Ğ¢Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ñ‚Ğ°Ğ¹Ğ¼Ğ¸Ğ½Ğ³ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ°",
    "frame": {
      "setting": "Ğ›Ğ¾ĞºĞ°Ñ†Ğ¸Ñ/Ğ¾Ğ±ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°",
      "subject": "Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ² ĞºĞ°Ğ´Ñ€Ğµ",
      "composition": "ĞšĞ°Ğº Ğ¼ĞµĞ½ÑĞµÑ‚ÑÑ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ° Ğ¾Ñ‚ hook",
      "transition": "ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ¾Ñ‚ Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰ĞµĞ³Ğ¾ ĞºĞ°Ğ´Ñ€Ğ°",
      "originalReference": "Ğ§Ñ‚Ğ¾ Ğ¸Ğ· Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¼Ñ‹ Ğ±ĞµÑ€Ñ‘Ğ¼ Ğ·Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ñƒ"
    },
    "voiceover": "Ğ¢ĞµĞºÑÑ‚, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ¸Ğ½Ñ‚Ñ€Ğ¸Ğ³Ñƒ Ğ¸ Ğ¾Ğ±ĞµÑ‰Ğ°ĞµÑ‚ Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ",
    "onScreenText": "Ğ¢Ğ•ĞšĞ¡Ğ¢ ĞĞ Ğ­ĞšĞ ĞĞĞ•",
    "emotionalHook": "ĞšĞ°ĞºÑƒÑ ÑĞ¼Ğ¾Ñ†Ğ¸Ñ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ¸ÑĞ¿Ñ‹Ñ‚Ğ°Ñ‚ÑŒ Ğ·Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒ"
  },

  "mainContent": {
    "title": "ğŸ“ˆ ĞĞ¡ĞĞĞ’ĞĞĞ™ ĞšĞĞĞ¢Ğ•ĞĞ¢ (7-25 ÑĞµĞºÑƒĞ½Ğ´)",
    "goal": "Ğ”Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ğ±ĞµÑ‰Ğ°Ğ½Ğ½ÑƒÑ Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ + Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ÑĞºÑĞ¿ĞµÑ€Ñ‚Ğ¸Ğ·Ñƒ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ°",
    "segments": [
      {
        "name": "Ğ¡ĞµĞ³Ğ¼ĞµĞ½Ñ‚ 1",
        "duration": "X ÑĞµĞºÑƒĞ½Ğ´",
        "frame": "ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ ĞºĞ°Ğ´Ñ€Ğ°",
        "voiceover": "Ğ¢ĞµĞºÑÑ‚ Ğ¾Ğ·Ğ²ÑƒÑ‡ĞºĞ¸",
        "onScreenText": "Ğ¢Ğ•ĞšĞ¡Ğ¢ ĞĞ Ğ­ĞšĞ ĞĞĞ•",
        "businessValue": "ĞšĞ°Ğº ÑÑ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ²Ğ¸Ğ³Ğ°ĞµÑ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ",
        "originalReference": "Ğ¡Ğ²ÑĞ·ÑŒ Ñ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ²Ğ¸Ğ´ĞµĞ¾"
      }
    ],
    "keyMessage": "Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ Ğ¼Ñ‹ÑĞ»ÑŒ, ĞºĞ¾Ñ‚Ğ¾Ñ€ÑƒÑ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ ÑƒĞ½ĞµÑÑ‚Ğ¸ Ğ·Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒ"
  },

  "cta": {
    "title": "ğŸ’¥ ĞŸĞ Ğ˜Ğ—Ğ«Ğ’ Ğš Ğ”Ğ•Ğ™Ğ¡Ğ¢Ğ’Ğ˜Ğ® (Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 3-5 ÑĞµĞºÑƒĞ½Ğ´)",
    "goal": "ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ²Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ Ğ² Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ",
    "timing": "Ğ¢Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ñ‚Ğ°Ğ¹Ğ¼Ğ¸Ğ½Ğ³ Ñ„Ğ¸Ğ½Ğ°Ğ»Ğ°",
    "frame": {
      "setting": "Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ñ/Ğ¾Ğ±ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°",
      "subject": "Ğ§Ñ‚Ğ¾ Ğ² ĞºĞ°Ğ´Ñ€Ğµ (Ğ»Ğ¸Ñ†Ğ¾, Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚, ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹)",
      "energy": "Ğ­Ğ½ĞµÑ€Ğ³ĞµÑ‚Ğ¸ĞºĞ° Ñ„Ğ¸Ğ½Ğ°Ğ»Ğ°",
      "originalReference": "Ğ§Ñ‚Ğ¾ Ğ¸Ğ· Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¼Ñ‹ Ğ±ĞµÑ€Ñ‘Ğ¼ Ğ·Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ñƒ"
    },
    "voiceover": "Ğ§Ñ‘Ñ‚ĞºĞ¸Ğ¹ Ğ¿Ñ€Ğ¸Ğ·Ñ‹Ğ² Ğº ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¼Ñƒ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ",
    "onScreenText": "ĞŸĞ Ğ˜Ğ—Ğ«Ğ’ + ĞšĞĞĞ¢ĞĞšĞ¢/Ğ¡Ğ¡Ğ«Ğ›ĞšĞ",
    "targetAction": "Ğ§Ñ‚Ğ¾ Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ·Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒ (Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒÑÑ/Ğ·Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒÑÑ/Ğ¿ĞµÑ€ĞµĞ¹Ñ‚Ğ¸/Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ)",
    "urgencyElement": "Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚ ÑÑ€Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸Ğ»Ğ¸ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ (ĞµÑĞ»Ğ¸ ÑƒĞ¼ĞµÑÑ‚ĞµĞ½)"
  },

  "productionGuide": {
    "title": "âš™ï¸ Ğ¢Ğ•Ğ¥ĞĞ˜Ğ§Ğ•Ğ¡ĞšĞĞ• Ğ Ğ£ĞšĞĞ’ĞĞ”Ğ¡Ğ¢Ğ’Ğ",
    "equipment": {
      "camera": "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ ĞºĞ°Ğ¼ĞµÑ€Ğµ (Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½ Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾/Ğ½ÑƒĞ¶Ğ½Ğ° ĞºĞ°Ğ¼ĞµÑ€Ğ°)",
      "audio": "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ Ğ·Ğ²ÑƒĞºÑƒ (Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¼Ğ¸ĞºÑ€Ğ¾Ñ„Ğ¾Ğ½/Ğ¿ĞµÑ‚Ğ»Ğ¸Ñ‡ĞºĞ°/Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¹)",
      "lighting": "Ğ§Ñ‚Ğ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ¾ÑĞ²ĞµÑ‰ĞµĞ½Ğ¸Ñ",
      "stabilization": "ĞÑƒĞ¶ĞµĞ½ Ğ»Ğ¸ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€/ÑˆÑ‚Ğ°Ñ‚Ğ¸Ğ²"
    },
    "shootingTips": [
      "ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ÑĞ¾Ğ²ĞµÑ‚ Ğ¿Ğ¾ ÑÑŠÑ‘Ğ¼ĞºĞµ #1",
      "ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ÑĞ¾Ğ²ĞµÑ‚ Ğ¿Ğ¾ ÑÑŠÑ‘Ğ¼ĞºĞµ #2",
      "ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ÑĞ¾Ğ²ĞµÑ‚ Ğ¿Ğ¾ ÑÑŠÑ‘Ğ¼ĞºĞµ #3"
    ],
    "editingTips": [
      "Ğ¡Ğ¾Ğ²ĞµÑ‚ Ğ¿Ğ¾ Ğ¼Ğ¾Ğ½Ñ‚Ğ°Ğ¶Ñƒ #1 (Ñ‚ĞµĞ¼Ğ¿, Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ñ‹) - ÑƒÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°Ğ¹ Ñ‚ĞµĞ¼Ğ¿ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ°",
      "Ğ¡Ğ¾Ğ²ĞµÑ‚ Ğ¿Ğ¾ Ğ¼Ğ¾Ğ½Ñ‚Ğ°Ğ¶Ñƒ #2 (ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹, Ñ‚ĞµĞºÑÑ‚)",
      "Ğ¡Ğ¾Ğ²ĞµÑ‚ Ğ¿Ğ¾ Ğ¼Ğ¾Ğ½Ñ‚Ğ°Ğ¶Ñƒ #3 (Ñ†Ğ²ĞµÑ‚Ğ¾ĞºĞ¾Ñ€Ñ€ĞµĞºÑ†Ğ¸Ñ, Ñ„Ğ¸Ğ½Ğ°Ğ»)"
    ],
    "musicRecommendation": {
      "style": "Ğ¡Ñ‚Ğ¸Ğ»ÑŒ Ğ¼ÑƒĞ·Ñ‹ĞºĞ¸ (Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ°)",
      "tempo": "Ğ¢ĞµĞ¼Ğ¿ (BPM Ğ¸Ğ»Ğ¸ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ)",
      "examples": "Ğ“Ğ´Ğµ Ğ¸ÑĞºĞ°Ñ‚ÑŒ (Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ° Instagram, ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞºĞ¸)"
    }
  },

  "copywriting": {
    "title": "âœï¸ Ğ¢Ğ•ĞšĞ¡Ğ¢Ğ« Ğ”Ğ›Ğ¯ ĞŸĞ£Ğ‘Ğ›Ğ˜ĞšĞĞ¦Ğ˜Ğ˜",
    "caption": {
      "text": "Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ¿Ğ¾ÑÑ‚Ğ° (Ñ ÑĞ¼Ğ¾Ğ´Ğ·Ğ¸, Ñ…ÑƒĞºĞ¾Ğ¼, Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒÑ, CTA)",
      "length": "ĞšĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¹/ÑÑ€ĞµĞ´Ğ½Ğ¸Ğ¹/Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ğ¹"
    },
    "hashtags": {
      "primary": ["#Ñ…ĞµÑˆÑ‚ĞµĞ³1", "#Ñ…ĞµÑˆÑ‚ĞµĞ³2", "#Ñ…ĞµÑˆÑ‚ĞµĞ³3"],
      "secondary": ["#Ñ…ĞµÑˆÑ‚ĞµĞ³4", "#Ñ…ĞµÑˆÑ‚ĞµĞ³5", "#Ñ…ĞµÑˆÑ‚ĞµĞ³6"],
      "niche": ["#Ğ½Ğ¸ÑˆĞµĞ²Ñ‹Ğ¹1", "#Ğ½Ğ¸ÑˆĞµĞ²Ñ‹Ğ¹2", "#Ğ½Ğ¸ÑˆĞµĞ²Ñ‹Ğ¹3"],
      "strategy": "ĞšĞ°Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ…ĞµÑˆÑ‚ĞµĞ³Ğ¸ Ğ´Ğ»Ñ Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ…Ğ²Ğ°Ñ‚Ğ°"
    },
    "commentsStrategy": {
      "pinComment": "Ğ¢ĞµĞºÑÑ‚ Ğ·Ğ°ĞºÑ€ĞµĞ¿Ğ»Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ñ Ğ¾Ñ‚ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ°",
      "engagementQuestion": "Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ´Ğ»Ñ Ğ²Ğ¾Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ñ Ğ² ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸ÑÑ…"
    }
  }
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜ Ğ’ĞĞ–ĞĞ«Ğ• ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Ğ’Ğ¡Ğ• Ğ¢Ğ•ĞšĞ¡Ğ¢Ğ« ĞĞ Ğ Ğ£Ğ¡Ğ¡ĞšĞĞœ Ğ¯Ğ—Ğ«ĞšĞ• (Ñ…ĞµÑˆÑ‚ĞµĞ³Ğ¸ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ°Ğ½Ğ³Ğ»/Ñ€ÑƒÑ)

2. ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—Ğ£Ğ™ Ğ’Ğ˜Ğ—Ğ£ĞĞ›Ğ¬ĞĞ£Ğ® Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ£ ĞĞ Ğ˜Ğ“Ğ˜ĞĞĞ›Ğ:
   - Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞ¼Ğ¿ ÑĞ¼ĞµĞ½Ñ‹ ĞºĞ°Ğ´Ñ€Ğ¾Ğ²
   - ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€ÑƒĞ¹ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ¿Ğ¾Ğ´ Ğ±Ğ¸Ğ·Ğ½ĞµÑ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
   - Ğ£ĞºĞ°Ğ¶Ğ¸ Ğ² ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ğ±Ğ»Ğ¾ĞºĞµ ÑĞ²ÑĞ·ÑŒ Ñ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ²Ğ¸Ğ´ĞµĞ¾
   - ĞĞ±ÑŠÑÑĞ½Ğ¸, Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ Ñ‚Ğ°ĞºĞ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

3. ĞĞ”ĞĞŸĞ¢ĞĞ¦Ğ˜Ğ¯ Ğ”ĞĞ›Ğ–ĞĞ Ğ‘Ğ«Ğ¢Ğ¬ ĞĞ Ğ“ĞĞĞ˜Ğ§ĞĞĞ™:
   - ĞĞµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ "Ğ²ÑÑ‚Ğ°Ğ²ÑŒ ÑĞ²Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚" â€” Ğ½Ğ°Ğ¹Ğ´Ğ¸ ĞµÑÑ‚ĞµÑÑ‚Ğ²ĞµĞ½Ğ½ÑƒÑ ÑĞ²ÑĞ·ÑŒ
   - Ğ—Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ĞŸĞĞ›Ğ¬Ğ—Ğ£, Ğ° Ğ½Ğµ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñƒ
   - Ğ‘Ğ¸Ğ·Ğ½ĞµÑ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ ĞºĞ°Ğº Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹, Ğ° Ğ½Ğµ ĞºĞ°Ğº Ğ½Ğ°Ğ²ÑĞ·Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ

4. ĞšĞĞĞšĞ Ğ•Ğ¢Ğ˜ĞšĞ Ğ’ĞĞ–ĞĞ•Ğ• ĞĞ‘Ğ©Ğ˜Ğ¥ Ğ¤Ğ ĞĞ—:
   - "Ğ’ÑÑ‚Ğ°Ğ½ÑŒ Ñƒ Ğ¾ĞºĞ½Ğ° Ğ² 45 Ğ³Ñ€Ğ°Ğ´ÑƒÑĞ¾Ğ² Ğº ÑĞ²ĞµÑ‚Ñƒ" Ğ²Ğ¼ĞµÑÑ‚Ğ¾ "Ñ…Ğ¾Ñ€Ğ¾ÑˆĞµĞµ Ğ¾ÑĞ²ĞµÑ‰ĞµĞ½Ğ¸Ğµ"
   - "Ğ¡ĞºĞ°Ğ¶Ğ¸: Ğ Ğ²Ñ‹ Ğ·Ğ½Ğ°Ğ»Ğ¸, Ñ‡Ñ‚Ğ¾..." Ğ²Ğ¼ĞµÑÑ‚Ğ¾ "Ğ¸Ğ½Ñ‚Ñ€Ğ¸Ğ³ÑƒÑÑ‰Ğ¸Ğ¹ Ñ‚ĞµĞºÑÑ‚"
   - "ĞŸĞ¾ĞºĞ°Ğ¶Ğ¸ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° Ğ”Ğ/ĞŸĞĞ¡Ğ›Ğ•" Ğ²Ğ¼ĞµÑÑ‚Ğ¾ "Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ"
   - "Ğ’ 3-Ğ¹ ÑĞµĞºÑƒĞ½Ğ´Ğµ Ğ¿Ğ¾ĞºĞ°Ğ¶Ğ¸ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚ ĞºÑ€ÑƒĞ¿Ğ½Ñ‹Ğ¼ Ğ¿Ğ»Ğ°Ğ½Ğ¾Ğ¼" Ğ²Ğ¼ĞµÑÑ‚Ğ¾ "Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°"

5. Ğ£Ğ§Ğ˜Ğ¢Ğ«Ğ’ĞĞ™ Ğ¡ĞŸĞ•Ğ¦Ğ˜Ğ¤Ğ˜ĞšĞ£ Ğ‘Ğ˜Ğ—ĞĞ•Ğ¡Ğ:
   - Ğ•ÑĞ»Ğ¸ Ñ„Ğ¸Ñ‚Ğ½ĞµÑ â€” Ğ´ÑƒĞ¼Ğ°Ğ¹ Ğ¾ Ñ‚Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸ÑÑ…, ÑĞ½ĞµÑ€Ğ³Ğ¸Ğ¸, Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ
   - Ğ•ÑĞ»Ğ¸ Ğ±ÑŒÑÑ‚Ğ¸ â€” Ğ´ÑƒĞ¼Ğ°Ğ¹ Ğ¾ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸ÑÑ…, ÑƒĞ²ĞµÑ€ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸, ÑƒÑ…Ğ¾Ğ´Ğµ Ğ·Ğ° ÑĞ¾Ğ±Ğ¾Ğ¹
   - Ğ•ÑĞ»Ğ¸ ĞµĞ´Ğ° â€” Ğ´ÑƒĞ¼Ğ°Ğ¹ Ğ¾ Ğ²ĞºÑƒÑĞµ, Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞµ, ÑĞ¼Ğ¾Ñ†Ğ¸ÑÑ… Ğ¾Ñ‚ ĞµĞ´Ñ‹
   - Ğ˜ Ñ‚Ğ°Ğº Ğ´Ğ°Ğ»ĞµĞµ Ğ´Ğ»Ñ Ğ»ÑĞ±Ğ¾Ğ¹ Ğ½Ğ¸ÑˆĞ¸

6. VOICEOVER Ğ”ĞĞ›Ğ–Ğ•Ğ Ğ—Ğ’Ğ£Ğ§ĞĞ¢Ğ¬ Ğ•Ğ¡Ğ¢Ğ•Ğ¡Ğ¢Ğ’Ğ•ĞĞĞ:
   - ĞŸĞ¸ÑˆĞ¸ Ñ‚Ğ°Ğº, ĞºĞ°Ğº Ğ»ÑĞ´Ğ¸ Ğ³Ğ¾Ğ²Ğ¾Ñ€ÑÑ‚, Ğ° Ğ½Ğµ ĞºĞ°Ğº Ğ¿Ğ¸ÑˆÑƒÑ‚
   - ĞšĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ, Ñ€Ğ°Ğ·Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ½Ñ‹Ğ¹ ÑÑ‚Ğ¸Ğ»ÑŒ
   - Ğ­Ğ¼Ğ¾Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ°ĞºÑ†ĞµĞ½Ñ‚Ñ‹

7. Ğ‘Ğ˜Ğ—ĞĞ•Ğ¡-Ğ¦Ğ•ĞĞĞĞ¡Ğ¢Ğ¬ Ğ’ ĞšĞĞ–Ğ”ĞĞœ Ğ‘Ğ›ĞĞšĞ•:
   - ĞĞ±ÑŠÑÑĞ½Ğ¸, ĞºĞ°Ğº ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑÑƒ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
   - ĞŸĞ¾ĞºĞ°Ğ¶Ğ¸ ÑĞ²ÑĞ·ÑŒ Ğ¼ĞµĞ¶Ğ´Ñƒ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ¾Ğ¼ Ğ¸ ĞºĞ¾Ğ½Ğ²ĞµÑ€ÑĞ¸ĞµĞ¹

8. Ğ¢ĞĞ™ĞœĞ˜ĞĞ“ Ğ˜ Ğ¢Ğ•ĞœĞŸ â€” Ğ­Ğ¢Ğ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜ Ğ’ĞĞ–ĞĞ:
   - Ğ£ĞºĞ°Ğ¶Ğ¸ Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ñ‚Ğ°Ğ¹Ğ¼Ğ¸Ğ½Ğ³ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ±Ğ»Ğ¾ĞºĞ°
   - ĞĞ±ÑŠÑÑĞ½Ğ¸, Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğ¹ Ñ‚ĞµĞ¼Ğ¿ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
   - Ğ”Ğ°Ğ¹ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ Ğ¼Ğ¾Ğ½Ñ‚Ğ°Ğ¶Ñƒ Ñ ÑƒÑ‡Ñ‘Ñ‚Ğ¾Ğ¼ Ñ‚ĞµĞ¼Ğ¿Ğ° Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ°

ĞÑ‚Ğ²ĞµÑ‡Ğ°Ğ¹ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ñ‹Ğ¼ JSON Ğ±ĞµĞ· Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµĞºÑÑ‚Ğ°.
`;
    }

    /**
     * ĞÑ‡Ğ¸Ñ‰Ğ°ĞµÑ‚ JSON Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ¾Ñ‚ markdown Ğ¸ Ğ»Ğ¸ÑˆĞ½Ğ¸Ñ… ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²
     */
    cleanJsonResponse(response) {
        let cleaned = response.trim();
        cleaned = cleaned.replace(/```json\n?/g, '');
        cleaned = cleaned.replace(/```\n?/g, '');
        cleaned = cleaned.replace(/^\uFEFF/, '');
        cleaned = cleaned.replace(/[\u200B-\u200D\uFEFF]/g, '');

        const firstBrace = cleaned.indexOf('{');
        const lastBrace = cleaned.lastIndexOf('}');

        if (firstBrace !== -1 && lastBrace !== -1) {
            cleaned = cleaned.substring(firstBrace, lastBrace + 1);
        }

        return cleaned;
    }

    /**
     * Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµÑ‚ Ñ…ĞµÑˆÑ‚ĞµĞ³Ğ¸ Ğ¸Ğ· Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ
     */
    extractHashtags(description) {
        if (!description) return ["#reels", "#viral", "#trending", "#ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚", "#Ğ¸Ğ½ÑÑ‚Ğ°Ğ³Ñ€Ğ°Ğ¼"];

        const hashtags = description.match(/#[\wĞ°-ÑĞ-Ğ¯Ñ‘Ğ]+/g) || [];

        if (hashtags.length === 0) {
            return ["#reels", "#viral", "#trending", "#ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚", "#Ğ¸Ğ½ÑÑ‚Ğ°Ğ³Ñ€Ğ°Ğ¼"];
        }

        return hashtags.slice(0, 10);
    }

    /**
     * Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ engagement rate
     */
    calculateEngagement(data) {
        if (!data.views || data.views === 0) return 0;
        const engagement = ((data.likes + data.comments) / data.views) * 100;
        return engagement.toFixed(2);
    }

    /**
     * ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ²Ğ¸Ñ€ÑƒÑĞ½Ğ¾ÑÑ‚Ğ¸
     */
    getViralityLevel(score) {
        if (score >= 100) return 'ĞœĞ•Ğ“Ğ-Ğ’Ğ˜Ğ Ğ£Ğ¡ĞĞĞ• ğŸš€';
        if (score >= 70) return 'ĞĞ§Ğ•ĞĞ¬ Ğ’Ğ«Ğ¡ĞĞšĞ˜Ğ™ ğŸ”¥';
        if (score >= 40) return 'Ğ’Ğ«Ğ¡ĞĞšĞ˜Ğ™ âš¡';
        if (score >= 20) return 'Ğ¡Ğ Ğ•Ğ”ĞĞ˜Ğ™ ğŸ“ˆ';
        return 'ĞĞ˜Ğ—ĞšĞ˜Ğ™ ğŸ“Š';
    }
}

export default AIAnalyzer;